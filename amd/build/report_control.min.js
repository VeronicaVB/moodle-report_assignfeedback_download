define ("report_assignfeedback_download/report_control",["jquery","core/ajax","core/log"],function(){"use strict";function a(a){var b=this;b.userids=a}a.prototype.main=function(){var a=this;a.initeventhablers();a.selectaction()};a.prototype.initeventhablers=function(){var a=this,b=this,c=document.getElementById("iassignfeedbacktb");if(c){Array.from(c.rows).forEach(function(c){var d=c.cells[0].firstChild;d.addEventListener("click",b.selectbyone.bind(b,a))})}};a.prototype.selectaction=function(){var a=this,b=document.getElementById("selectall");b.addEventListener("click",a.checkedhandler.bind(a,this))};a.prototype.checkedhandler=function(a){var b=document.getElementById("iassignfeedbacktb");Y.log(a.userids);if(b){Array.from(b.rows).forEach(function(b){var c=b.cells[0].firstChild;c.checked=!c.checked;var d=c.getAttribute("id").split("_"),e=d[d.length-1];if(!c.checked&&a.userids.includes(e)){var f=a.userids.indexOf(e);if(-1<f){a.userids.splice(f,1)}}else{a.userids.push(d[d.length-1])}})}var c=document.getElementById("assignfeedbacktb"),d=c.querySelector("input[name=\"selectedusers\"]");d.value=a.userids};a.prototype.selectbyone=function(a,b){Y.log(a);Y.log(b);var c=b.target.id;c=c.split("_");c=c[c.length-1];if(!b.target.checked&&a.userids.includes(c)){var f=a.userids.indexOf(c);if(-1<f){a.userids.splice(f,1)}}else{a.userids.push(c)}var d=document.getElementById("assignfeedbacktb"),e=d.querySelector("input[name=\"selectedusers\"]");e.value=a.userids};return{init:function(){Y.log("assignfeedback_download control...");var b=new a([]);b.main()}}});
//# sourceMappingURL=report_control.min.js.map
